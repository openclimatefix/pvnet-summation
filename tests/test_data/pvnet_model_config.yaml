_target_: pvnet.models.LateFusionModel

output_quantiles: [0.1, 0.5, 0.9]


#--------------------------------------------
# Sat encoder settings
#--------------------------------------------

sat_encoder:
  _target_: pvnet.models.late_fusion.encoders.encoders3d.DefaultPVNet
  _partial_: True
  in_channels: 11
  out_features: 8
  image_size_pixels: 24
  number_of_conv3d_layers: 1
  conv3d_channels: 2


#--------------------------------------------
# NWP encoder
#--------------------------------------------

nwp_encoders_dict:
  ukv:
    _target_: pvnet.models.late_fusion.encoders.encoders3d.DefaultPVNet
    _partial_: True
    in_channels: 4
    out_features: 8
    image_size_pixels: 24
    number_of_conv3d_layers: 1
    conv3d_channels: 2

  ecmwf:
    _target_: pvnet.models.late_fusion.encoders.encoders3d.DefaultPVNet
    _partial_: True
    in_channels: 3
    out_features: 8
    image_size_pixels: 12
    number_of_conv3d_layers: 1
    conv3d_channels: 2


add_image_embedding_channel: False

#--------------------------------------------
# Tabular network settings
#--------------------------------------------

output_network:
  _target_: pvnet.models.late_fusion.linear_networks.networks.ResFCNet
  _partial_: True
  fc_hidden_features: 8
  n_res_blocks: 2
  res_block_layers: 1
  dropout_frac: 0.0

embedding_dim: 2
include_sun: True
include_gsp_yield_history: False

#--------------------------------------------
# Times
#--------------------------------------------

# Foreast and time settings
history_minutes: 60
forecast_minutes: 480
interval_minutes: 30

min_sat_delay_minutes: 0

# These must also be set even if identical to forecast_minutes and  history_minutes
sat_history_minutes: 30

# These must be set for each NWP encoder
nwp_history_minutes:
  ukv: 120
  ecmwf: 120

nwp_forecast_minutes:
  ukv: 480
  ecmwf: 480
